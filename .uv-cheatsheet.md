# uv Quick Reference Cheat Sheet

## Installation

```bash
# macOS/Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# Windows
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
```

## Daily Commands

```bash
# Install all dependencies (first time or after git pull)
uv sync

# Run the application
uv run streamlit run app.py
# or
make run

# Run any Python script
uv run python script.py

# Run tests
uv run pytest
# or
make test
```

## Dependency Management

```bash
# Add a new package
uv add package-name
# or
make add-dep PACKAGE=package-name

# Add a dev dependency
uv add --dev pytest-mock
# or
make add-dev PACKAGE=pytest-mock

# Update all packages
uv sync --upgrade
# or
make update

# Remove a package
uv remove package-name
```

## Project Management

```bash
# Show installed packages
uv pip list

# Show outdated packages
uv pip list --outdated

# Show project info
uv pip show package-name
```

## Environment Management

```bash
# uv automatically creates and manages .venv/
# No need to manually activate!

# To manually activate (rarely needed)
source .venv/bin/activate  # macOS/Linux
.venv\Scripts\activate     # Windows

# To deactivate
deactivate
```

## Lock Files

```bash
# Generate/update lock file (automatic with uv sync)
uv lock

# Install from lock file (ensures exact versions)
uv sync --locked
```

## Makefile Commands

```bash
make help       # Show all available commands
make install    # Install dependencies
make run        # Run the application
make test       # Run tests
make update     # Update dependencies
make clean      # Clean cache files
make add-dep    # Add dependency (use with PACKAGE=name)
make add-dev    # Add dev dependency (use with PACKAGE=name)
```

## Troubleshooting

```bash
# Clear cache if having issues
rm -rf .uv_cache/

# Recreate virtual environment
rm -rf .venv/
uv sync

# Check uv version
uv --version

# Update uv itself
curl -LsSf https://astral.sh/uv/install.sh | sh
```

## Migration from pip

| pip | uv |
|-----|-----|
| `pip install package` | `uv add package` |
| `pip install -r requirements.txt` | `uv sync` |
| `pip list` | `uv pip list` |
| `pip freeze > requirements.txt` | `uv pip compile pyproject.toml` |
| `python -m venv venv` | (automatic with uv) |
| `source venv/bin/activate` | `uv run` (or manual activate) |

## Pro Tips

1. **No activation needed**: Use `uv run` instead of activating venv
2. **Fast installs**: uv caches packages for super-fast reinstalls
3. **Automatic Python**: uv can download the right Python version automatically
4. **Lock files**: `uv.lock` ensures reproducible builds across machines
5. **Use Make**: Simplified commands with `make run`, `make test`, etc.

## Documentation

- Full Guide: [INSTALLATION.md](INSTALLATION.md)
- Migration Guide: [MIGRATION_TO_UV.md](MIGRATION_TO_UV.md)
- uv Docs: https://docs.astral.sh/uv/
